{% extends "base.html" %}
{% block title %}–†–µ—Ü–µ–ø—Ç—ã ‚Äî CookNet AI{% endblock %}
{% block content %}

<div class="container">
  <h2>üç≤ –í—Å–µ —Ä–µ—Ü–µ–ø—Ç—ã</h2>
  <p style="color:#666;">–í—ã–±–∏—Ä–∞–π—Ç–µ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –∏ –≥–æ—Ç–æ–≤—å—Ç–µ —Å –ª—é–±–æ–≤—å—é ‚ù§Ô∏è</p>

  {% if recipes %}
  <div class="grid">
    {% for r in recipes %}
    <div class="recipe-card">
      <img src="{{ r.photo_url or '/static/no-photo.jpg' }}" alt="{{ r.title }}">
      <h3>{{ r.title }}</h3>
      <p style="color:#666; margin-top:-5px;">üë§ @{{ r.username }}</p>
      <p>{{ (r.ai_caption or r.description)[:120] }}{% if r.description|length > 120 %}...{% endif %}</p>

      <form method="post" action="/like/{{ r.id }}" style="margin-top:10px;">
        <button class="like-btn" type="submit">‚ù§Ô∏è {{ r.likes }}</button>
        <a href="/recipe/{{ r.id }}" style="margin-left:10px;text-decoration:none;color:#ff7043;font-weight:600;">
          –ü–æ–¥—Ä–æ–±–Ω–µ–µ ‚Üí
        </a>
      </form>
    </div>
    {% endfor %}
  </div>
  {% else %}
  <p>–ü–æ–∫–∞ –Ω–µ—Ç —Ä–µ—Ü–µ–ø—Ç–æ–≤ üòî<br>–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—ã–π —á–µ—Ä–µ–∑ Telegram-–±–æ—Ç–∞ <a href="https://t.me/cooknet_ai_bot" target="_blank">ü§ñ @cooknet_ai_bot</a></p>
  {% endif %}
</div>

<style>
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 20px;
  margin-top: 20px;
}
.recipe-card {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  transition: transform 0.2s, box-shadow 0.3s;
}
.recipe-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}
.recipe-card h3 {
  margin: 10px 0 5px 0;
}
.recipe-card p {
  margin: 4px 0;
}
</style>

{% endblock %}
